why should there are diffrent shorten url for same domain like google ? 
Because if system produce same url for same domain that would be guessable.
How I generated slug?
I used SecureRandom method of rails that is simply used for random code generation and it fulfilled my requirement

Download it from google drive or clone this repository
